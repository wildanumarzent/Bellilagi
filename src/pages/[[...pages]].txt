import { InferGetStaticPropsType } from "next";
import dynamic from "next/dynamic";
import { getStaticPaths, getStaticProps } from "@/ssr/example.ssr";
export { getStaticPaths, getStaticProps };
import { getLayout } from "@/layouts";
// Hooks
import useLayout from "@/hooks/useLayout.next";
// Type
import { NextPageWithLayout, PageProps } from "@/types/pages";
// Component
import DefaultPageWrapper from "@/components/PageWrapper";
// Layout
const Home = dynamic(() => import("@/components/PageGroups/Home"));

const MAP_LAYOUT_GROUP: Record<string, any> = {
  home: Home,
};

const CustomPage: NextPageWithLayout<
  InferGetStaticPropsType<typeof getStaticProps>
> = ({ variables, layout }: PageProps) => {
  const { route } = useLayout();

  const Component = route?.layoutGroup
    ? MAP_LAYOUT_GROUP[route?.layoutGroup]
    : DefaultPageWrapper;
  return (
    <>
      <Component variables={variables} layout={layout} />
    </>
  );
};

// Custom Layout can be generated here
CustomPage.getLayout = getLayout;

export default CustomPage;
